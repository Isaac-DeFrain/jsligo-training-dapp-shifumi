#import "storage.jsligo" "Storage"

export type parameter = ["Play", chest] | ["Reveal", chest_key, nat];

export const main = (parameter: parameter, storage: Storage.t) : [list<operation>, Storage.t] => {
    return match(parameter, {
        Play   : p => Storage.play(storage, Tezos.sender, p),
        Reveal : p => Storage.conclude(Storage.reveal(storage, Tezos.sender, p[0], p[1])),
    });
};
